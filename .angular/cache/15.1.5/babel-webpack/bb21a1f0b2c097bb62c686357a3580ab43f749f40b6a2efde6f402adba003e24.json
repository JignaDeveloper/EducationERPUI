{"ast":null,"code":"import { StudentListQuery } from 'src/app/model/component/studentModel';\nimport { FormControl } from '@angular/forms';\nimport { ImageCellRenderer } from '../../image-cell-renderer/image-cell-renderer.component';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"ngx-spinner\";\nimport * as i2 from \"src/app/core/services/local-storage.service\";\nimport * as i3 from \"src/app/core/services/component/student.service\";\nimport * as i4 from \"@angular/router\";\nimport * as i5 from \"../../ag-grid/ag-grid.component\";\nexport class StudentComponent {\n  constructor(spinner, localStorage, studentService, router) {\n    this.spinner = spinner;\n    this.localStorage = localStorage;\n    this.studentService = studentService;\n    this.router = router;\n    this.rowData = [];\n    this.getAccountListQuery = new StudentListQuery();\n    this.paginatorTake = 20;\n    this.paginatorSkip = 0;\n    this.isStudentListPaginationEnable = true;\n    this.selectPageNumber = new FormControl('20', []);\n    this.studentListDisableForwardArrow = true;\n    this.studentListDisableBackwardArrow = true;\n    this.ColumnDefs = [{\n      headerName: '#',\n      field: 'srno',\n      headerTooltip: 'Student Sr. No',\n      tooltipField: 'Student Sr. No',\n      sortable: true,\n      filter: true\n    }, {\n      headerName: 'Photo',\n      field: 'StudentImagePath',\n      headerTooltip: 'Student Photo',\n      tooltipField: 'Student Photo',\n      cellRendererFramework: ImageCellRenderer,\n      sortable: true,\n      resizable: true,\n      filter: true\n    }, {\n      headerName: 'Student Name',\n      field: 'StudentName',\n      headerTooltip: 'Student Name',\n      tooltipField: 'Student Name',\n      sortable: true,\n      filter: true\n    }, {\n      headerName: 'Gender',\n      field: 'Gender',\n      headerTooltip: 'Gender',\n      tooltipField: 'Gender',\n      sortable: true,\n      filter: true\n    }, {\n      headerName: 'DOB',\n      field: 'DOB',\n      headerTooltip: 'Date Of Birth',\n      tooltipField: 'Date Of Birth',\n      sortable: true,\n      filter: true\n    }, {\n      headerName: 'Class (Section)',\n      field: 'SectionName',\n      headerTooltip: 'Section Name',\n      tooltipField: 'Section Name',\n      sortable: true,\n      filter: true\n    }, {\n      headerName: 'Phone',\n      field: 'Phone',\n      headerTooltip: 'Phone',\n      tooltipField: 'Phone',\n      sortable: true,\n      filter: true\n    }, {\n      headerName: 'Guardian Name',\n      field: 'GuardianName',\n      headerTooltip: 'Guardian Name',\n      tooltipField: 'Guardian Name',\n      sortable: true,\n      filter: true\n    }, {\n      headerName: 'Address',\n      field: 'Address',\n      headerTooltip: 'Address',\n      tooltipField: 'Address',\n      sortable: true,\n      filter: true\n    }, {\n      headerName: 'Academic Year',\n      field: 'AcademicYear',\n      headerTooltip: 'Academic Year',\n      tooltipField: 'Academic Year',\n      sortable: true,\n      filter: true\n    }\n    //{ headerName: 'Action', field: 'Email',  headerTooltip: 'Email', tooltipField: 'Email', sortable: true, filter: true}\n    ];\n\n    this.studentListNoRowsTemplate = \"<span>No_Records_to_display</span>\";\n  }\n  studentListOnGridSizeChanged(params) {\n    debugger;\n    params.api.sizeColumnsToFit();\n  }\n  ngOnInit() {\n    this.getStudentList(this.getAccountListQuery);\n  }\n  getStudentList(getStudentListQuery) {\n    debugger;\n    //this.spinner.show();\n    getStudentListQuery.skipCount = this.paginatorSkip;\n    getStudentListQuery.takeCount = this.paginatorTake;\n    this.studentService.getStudentList(getStudentListQuery).subscribe(result => {\n      if (result.statusCode == 200) {\n        let studentRecords = result.response;\n        this.rowData = [{\n          \"srno\": 1,\n          \"StudentImagePath\": \"/assets/images/avatar2.png\",\n          \"StudentName\": \"John Smith\",\n          \"Gender\": \"Male\",\n          \"DOB\": \"1998-05-23\",\n          \"SectionName\": \"Class 10 (A)\",\n          \"Phone\": \"+1 555-123-4567\",\n          \"GuardianName\": \"Mary Smith\",\n          \"Address\": \"123 Main St, Anytown USA\",\n          \"AcademicYear\": \"2022-2023\"\n        }, {\n          \"srno\": 2,\n          \"StudentImagePath\": \"/assets/images/avatar2.png\",\n          \"StudentName\": \"Jane Doe\",\n          \"Gender\": \"Female\",\n          \"DOB\": \"1999-01-15\",\n          \"SectionName\": \"Class 11 (B)\",\n          \"Phone\": \"+1 555-987-6543\",\n          \"GuardianName\": \"John Doe\",\n          \"Address\": \"456 Elm St, Anytown USA\",\n          \"AcademicYear\": \"2022-2023\"\n        }, {\n          \"srno\": 3,\n          \"StudentImagePath\": \"/assets/images/avatar2.png\",\n          \"StudentName\": \"Bob Johnson\",\n          \"Gender\": \"Male\",\n          \"DOB\": \"2000-08-01\",\n          \"SectionName\": \"Class 9 (C)\",\n          \"Phone\": \"+1 555-555-1212\",\n          \"GuardianName\": \"Alice Johnson\",\n          \"Address\": \"789 Oak St, Anytown USA\",\n          \"AcademicYear\": \"2022-2023\"\n        }];\n        this.totalRecords = 3;\n        //this.totalRecords = studentRecords.length;\n        //this.isStudentListPaginationEnable = studentRecords.length ? true : false\n        this.isStudentListPaginationEnable = true;\n        if (this.isStudentListPaginationEnable) {\n          this.fromRange = 0;\n          this.toRange = 10;\n          if (this.toRange >= this.totalRecords) {\n            this.studentListDisableForwardArrow = true;\n          } else {\n            this.studentListDisableForwardArrow = false;\n          }\n          if (this.fromRange <= 1) {\n            this.studentListDisableBackwardArrow = true;\n          } else {\n            this.studentListDisableBackwardArrow = false;\n          }\n        }\n      }\n      //this.spinner.hide();\n    });\n  }\n\n  studentListFetchPreviousRecords() {\n    if (!this.studentListDisableBackwardArrow) {\n      this.paginatorSkip = this.paginatorSkip - this.paginatorTake;\n      this.getStudentList(this.getAccountListQuery);\n    }\n  }\n  studentListFetchNextRecords() {\n    if (!this.studentListDisableForwardArrow) {\n      this.paginatorSkip = this.paginatorSkip + this.paginatorTake;\n      this.getStudentList(this.getAccountListQuery);\n    }\n  }\n  studentListPageSizedUpdated(e) {\n    this.paginatorTake = Number(e);\n    this.paginatorSkip = 0;\n    this.getStudentList(this.getAccountListQuery);\n  }\n  onRowClicked(event) {\n    debugger;\n    this.router.navigateByUrl('/src/components/student/student-details/' + event.data.srno);\n  }\n}\nStudentComponent.ɵfac = function StudentComponent_Factory(t) {\n  return new (t || StudentComponent)(i0.ɵɵdirectiveInject(i1.NgxSpinnerService), i0.ɵɵdirectiveInject(i2.LocalStorageService), i0.ɵɵdirectiveInject(i3.StudentService), i0.ɵɵdirectiveInject(i4.Router));\n};\nStudentComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: StudentComponent,\n  selectors: [[\"app-student-list\"]],\n  decls: 26,\n  vars: 3,\n  consts: [[1, \"content-wrapper\"], [1, \"content-header\"], [1, \"container-fluid\"], [1, \"row\", \"mb-2\"], [1, \"col-sm-12\"], [1, \"content\"], [1, \"row\"], [1, \"col-12\"], [1, \"card\"], [1, \"card-header\"], [1, \"col-sm-6\"], [1, \"nav-icon\", \"fa\", \"fa-graduation-cap\"], [1, \"col-sm-6\", 2, \"text-align\", \"right\"], [1, \"fa\", \"fa-laptop\"], [1, \"card-body\"], [1, \"col-sm-12\", \"ml-3\"], [1, \"fa\", \"fa-plus\"], [\"href\", \"addstudent\", \"title\", \"Add new Student\", 2, \"color\", \"#707478\"], [1, \"card-body\", \"position-relative\"], [1, \"ag-theme-balham\", 2, \"height\", \"550px\", \"width\", \"100%\"], [3, \"ColumnDefs\", \"RowData\", \"IsColumnsToFit\", \"CellClicked\"]],\n  template: function StudentComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3);\n      i0.ɵɵelement(4, \"div\", 4);\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(5, \"section\", 5)(6, \"div\", 6)(7, \"div\", 7)(8, \"div\", 8)(9, \"div\", 9)(10, \"div\", 6)(11, \"div\", 10);\n      i0.ɵɵelement(12, \"i\", 11);\n      i0.ɵɵtext(13, \" Student\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(14, \"div\", 12);\n      i0.ɵɵelement(15, \"i\", 13);\n      i0.ɵɵtext(16, \" Dashboard / Student\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(17, \"div\", 14)(18, \"div\", 6)(19, \"div\", 15);\n      i0.ɵɵelement(20, \"i\", 16);\n      i0.ɵɵelementStart(21, \"a\", 17);\n      i0.ɵɵtext(22, \" Add New Student\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(23, \"div\", 18)(24, \"div\", 19)(25, \"app-ag-grid\", 20);\n      i0.ɵɵlistener(\"CellClicked\", function StudentComponent_Template_app_ag_grid_CellClicked_25_listener($event) {\n        return ctx.onRowClicked($event);\n      });\n      i0.ɵɵelementEnd()()()()()()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(25);\n      i0.ɵɵproperty(\"ColumnDefs\", ctx.ColumnDefs)(\"RowData\", ctx.rowData)(\"IsColumnsToFit\", true);\n    }\n  },\n  dependencies: [i5.AgGridComponent]\n});","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}